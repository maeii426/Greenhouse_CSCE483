function emptyRefresh(a,b,c){var d=document.getElementById(String(a)+String(b));for(document.write(d);d.hasChildNodes();)d.removeChild(d.firstChild);ws.send("GetRecentReading:Soil:"+String(c)+":"+String(b))}function addLoadEvent(a){var b=window.onload;"function"!=typeof window.onload?window.onload=a:window.onload=function(){b&&b(),a()}}function check_manual_mode(a,b){var c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=b;c++);var d=0;for(d=0;d<a.length;d++)if(0==a[b-1]){var e=0;for(e=0;e<greenhouse_list[c]._solenoids.length;e++)document.getElementById("solenoid-on-button-"+greenhouse_list[c]._solenoids[e].getActuatorId()).disabled=!1,document.getElementById("solenoid-off-button-"+greenhouse_list[c]._solenoids[e].getActuatorId()).disabled=!1;for(e=0;e<greenhouse_list[c]._lights.length;e++)document.getElementById("Light-on-button-"+greenhouse_list[c]._lights[e].getActuatorId()).disabled=!1,document.getElementById("Light-off-button-"+greenhouse_list[c]._lights[e].getActuatorId()).disabled=!1;for(e=0;e<greenhouse_list[c]._ventilations.length;e++)document.getElementById("fan-on-button-"+greenhouse_list[c]._ventilations[e].getActuatorId()).disabled=!1,document.getElementById("fan-off-button-"+greenhouse_list[c]._ventilations[e].getActuatorId()).disabled=!1}else if(1==a[b-1]){var e=0;for(e=0;e<greenhouse_list[c]._solenoids.length;e++)document.getElementById("solenoid-on-button-"+greenhouse_list[c]._solenoids[e].getActuatorId()).disabled=!0,document.getElementById("solenoid-off-button-"+greenhouse_list[c]._solenoids[e].getActuatorId()).disabled=!0;for(e=0;e<greenhouse_list[c]._lights.length;e++)document.getElementById("Light-on-button-"+greenhouse_list[c]._lights[e].getActuatorId()).disabled=!0,document.getElementById("Light-off-button-"+greenhouse_list[c]._lights[e].getActuatorId()).disabled=!0;for(e=0;e<greenhouse_list[c]._ventilations.length;e++)document.getElementById("fan-on-button-"+greenhouse_list[c]._ventilations[e].getActuatorId()).disabled=!0,document.getElementById("fan-off-button-"+greenhouse_list[c]._ventilations[e].getActuatorId()).disabled=!0}}function updateFooterDate(){document.getElementById("footer-text").innerHTML="&copy; TeamGreenThumb "+(new Date).getFullYear()+": Andrew Kirfman, Aaron Ayrault, Cuong Do, Margaret Baxter, Sean McClain, Ifra Traiq"}function ShowGreenhouse(a){document.getElementById("main-panel");var b=document.createElement("div");b.className="panel panel-default",b.id="main-panel-greenhouse-"+String(a),b.innerHTML='<div href="#" class="panel-heading collapsed"  data-toggle="collapse" data-parent="#main-panel-greenhouse-'+String(a)+'" data-target="#collapse-'+String(a)+'"><h4 class="panel-title"><span class="glyphicon glyphicon-menu-down pull-right"></span><a class="accordion-toggle">Greenhouse #'+String(a)+"</a></h4></div>";var c=document.createElement("div");c.id="collapse-"+String(a),c.className="panel-collapse collapse";var d=document.createElement("button");d.className="btn btn-warning",d.type="button",d.addEventListener("click",function(b){manual_mode[a-1]=!manual_mode[a-1],ws.send("SwitchMode:"+String(a)+":"+String(manual_mode[a-1]))}),d.innerHTML="Manual Mode",d.id="manual_button",document.createElement("h6").id="manual-status-"+String(a);var f=document.createElement("div");f.appendChild(d),c.appendChild(f);var g=document.createElement("div");g.id="panel-body-"+a,g.className="panel-body",c.appendChild(g);var h=document.createElement("div");h.id="relay-row-"+String(a),g.appendChild(h);var i=document.createElement("div");i.id="relay-title-"+String(a),i.className="row col-md-12";var j=document.createElement("h4");j.id="relay-title-message-"+String(a),j.innerHTML="Connected Relays:",i.appendChild(j),h.appendChild(i);var k=document.createElement("div");k.id="relay-container-div-"+String(a),h.appendChild(k),b.appendChild(c);var l=document.createElement("div");l.id="solenoid-row-"+String(a),g.appendChild(l);var m=document.createElement("div");m.id="solenoid-title-"+String(a),m.className="row col-md-12";var n=document.createElement("h3");n.id="solenoid-title-message-"+String(a),n.innerHTML="Connected Solenoids: ",m.appendChild(n),l.appendChild(m);var o=document.createElement("div");o.id="solenoid-container-div-"+String(a),l.appendChild(o);var p=document.createElement("div");p.id="light-row-"+String(a),g.appendChild(p);var q=document.createElement("div");q.id="light-title-"+String(a),q.className="row col-md-12";var r=document.createElement("h3");r.id="light-title-message-"+String(a),r.innerHTML="Connected Lights: ",q.appendChild(r),p.appendChild(q);var s=document.createElement("div");s.id="light-container-div-"+String(a),p.appendChild(s);var t=document.createElement("div");g.appendChild(t);var u=document.createElement("div");u.id="ventilation-title-"+String(a),u.className="row col-md-12";var v=document.createElement("h3");v.id="ventilation-title-message-"+String(a),v.innerHTML="Connected Ventilation Systems: ",u.appendChild(v),t.appendChild(u);var w=document.createElement("div");w.id="ventilation-container-div-"+String(a),t.appendChild(w);var x=document.createElement("div");g.appendChild(x);var y=document.createElement("div");y.id="soil-title-"+String(a),y.className="row col-md-12";var z=document.createElement("h3");z.id="soil-title-message-"+String(a),z.innerHTML="Connected Soil Moisture Sensors: ",y.appendChild(z),x.appendChild(y);var A=document.createElement("div");A.id="soil-container-div-"+String(a),x.appendChild(A);var B=document.createElement("div");g.appendChild(B);var C=document.createElement("div");C.id="location-title-"+String(a),C.className="row col-md-12";var D=document.createElement("h3");D.id="location-title-message-"+String(a),D.innerHTML="Connected Locations: ",C.appendChild(D),B.appendChild(C);var E=document.createElement("div");E.id="location-container-div-"+String(a),B.appendChild(E);var F=document.createElement("div");g.appendChild(F);var G=document.createElement("div");G.id="ph-title-"+String(a),G.className="row col-md-12";var H=document.createElement("h3");H.id="ph-title-message-"+String(a),H.innerHTML="Connected pH Sensors: ",G.appendChild(H),F.appendChild(G);var I=document.createElement("div");I.id="ph-container-div-"+String(a),F.appendChild(I);var J=document.createElement("div");g.appendChild(J);var K=document.createElement("div");K.id="water-level-title-"+String(a),K.className="row col-md-12";var L=document.createElement("h3");L.id="water-level-title-message-"+String(a),L.innerHTML="Connected Water Level Sensors: ",K.appendChild(L),J.appendChild(K);var M=document.createElement("div");M.id="water-level-container-div-"+String(a),J.appendChild(M);var N=document.createElement("div");g.appendChild(N);var O=document.createElement("div");O.id="water-temp-title-"+String(a),O.className="row col-md-12";var P=document.createElement("h3");P.id="water-temp-title-message-"+String(a),P.innerHTML="Connected Water Temp Sensors: ",O.appendChild(P),N.appendChild(O);var Q=document.createElement("div");Q.id="water-temp-container-div-"+String(a),N.appendChild(Q);var R=document.createElement("div");g.appendChild(R);var S=document.createElement("div");S.id="air-humidity-title-"+String(a),S.className="row col-md-12";var T=document.createElement("h3");T.id="air-humidity-title-message-"+String(a),T.innerHTML="Connected Air Humidity Sensors: ",S.appendChild(T),R.appendChild(S);var U=document.createElement("div");U.id="air-humidity-container-div-"+String(a),R.appendChild(U);var V=document.createElement("div");g.appendChild(V);var W=document.createElement("div");W.id="air-temp-title-"+String(a),W.className="row col-md-12";var X=document.createElement("h3");X.id="air-temp-title-message-"+String(a),X.innerHTML="Connected Air Temperature Sensors: ",W.appendChild(X),V.appendChild(W);var Y=document.createElement("div");Y.id="air-temp-container-div-"+String(a),V.appendChild(Y);var Z=document.createElement("div");g.appendChild(Z);var $=document.createElement("div");$.id="light-sensor-title-"+String(a),$.className="row col-md-12";var _=document.createElement("h3");_.id="light-sensor-title-message-"+String(a),_.innerHTML="Connected Light Sensors: ",$.appendChild(_),Z.appendChild($);var aa=document.createElement("div");aa.id="light-sensor-container-div-"+String(a),Z.appendChild(aa),document.getElementById("main-panel").appendChild(b)}function ShowRelay(a,b){var c=document.getElementById("relay-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="relay-"+String(a)+"-"+String(b);var e=document.createElement("div");e.className="col-md-12",e.innerHTML="<h4 style='padding-left:0%;'>Relay #"+String(b)+"</h4>",d.appendChild(e);var f=0,g=!1;for(f=0;f<greenhouse_list.length;f++)if(greenhouse_list[f]._greenhouseId==a){g=!0;break}if(1==g){var h=greenhouse_list[f].getRelayById(b),i=document.createElement("div");i.id="relay-stats-row-"+String(b),i.className="row";var j=document.createElement("div");j.id="relay-stats-container-"+String(b),j.className="col-md-11";var k=h.getPiId(),l=h.getPortNumber(),m=h.getNumberOfChannels(),n=document.createElement("p"),o=document.createElement("p");n.innerHTML="&nbsp;&nbsp- Connected to: "+String(k)+":"+String(l),n.style="padding-left:1%",o.innerHTML="&nbsp;&nbsp;- Number of Channels: "+String(m),o.style="padding-left:1%;",j.appendChild(n),j.appendChild(o);var p=document.createElement("div");p.className="col-md-1",i.appendChild(j),i.appendChild(p),d.appendChild(i);var q=document.createElement("div");q.className="row",q.id="relay-channels-row-"+String(b);var r=document.createElement("div");for(r.className="col-md-1",q.appendChild(r),f=0;f<h._numberOfChannels;f++){var s=document.createElement("div");s.id="relay-channel-"+String(b)+"-"+String(f),s.className="col-md-1";var t=document.createElement("div");t.id="relay-channel-well-"+String(b)+"-"+String(f),t.className="well";var u=document.createElement("div");u.innerHTML="<b>Channel #"+String(f+1)+"</b>";var v=document.createElement("div");v.id="channel-div-data-row-"+String(b)+"-"+String(f);var w=document.createElement("p");w.id="channel-par-data-row-connected-"+String(b)+"-"+String(f),w.innerHTML="<h6>Conn: <br>"+String(h.getConnectedItems(f))+"</h6>";var x=document.createElement("p");x.id="channel-par-data-row-status-"+String(b)+"-"+String(f),x.innerHTML="<h6>Status: <br>"+String(h.getCurrentState(f))+"</h6>",v.appendChild(w),v.appendChild(x),t.appendChild(u),t.appendChild(v),s.appendChild(t),q.appendChild(s)}d.appendChild(q),c.appendChild(d)}}function AddSolenoid(a,b,c){var d=document.getElementById("solenoid-container-div-"+String(a));temp=b;var e=document.createElement("div");e.className="row",e.id="solenoid-"+String(a)+"-"+String(b);var f=document.createElement("div");f.className="col-md-1";var g=document.createElement("div");g.className="col-md-8";var h=document.createElement("div");h.className="col-md-3";var i=document.createElement("div");i.className="well",g.appendChild(i),e.appendChild(f),e.appendChild(g),e.appendChild(h);var j=0,k=!1;for(j=0;j<greenhouse_list.length;j++)if(greenhouse_list[j]._greenhouseId==a){k=!0;break}if(1==k){var l=greenhouse_list[j].getSolenoidById(b),m=document.createElement("div");m.id="solenoid-well-"+String(b),m.className="row",i.appendChild(m);var n=document.createElement("div");n.className="col-md-6",m.appendChild(n);var o=document.createElement("b");o.innerHTML="Solenoid #"+String(b),o.id="solenoid-well-title-"+String(b);var p=l.getRelayId(),q=l.getChannelId(),r=document.createElement("h6");r.innerHTML="  - Connected To Relay #"+String(p)+"  Channel #"+String(q),r.id="solenoid-connected-relay-message-"+String(b);var s=l.getCurrentState(),t=document.createElement("h6");t.innerHTML="  - Current State: "+String(s),t.id="solenoid-current-state-message-"+String(b),n.appendChild(o),n.appendChild(r),n.appendChild(t);var u=document.createElement("div");u.className="col-md-2",m.appendChild(u);var v=document.createElement("div");v.className="col-md-2 text-right";var w=document.createElement("div");w.className="col-md-2 text-left";var x=document.createElement("button");x.className="btn btn-success",x.type="button",x.onclick=function(){turn_water_on(a,c,b,q,p,s)},x.innerHTML="Turn Solenoid On",x.id="solenoid-on-button-"+String(b);var y=document.createElement("button");if(y.className="btn btn-danger",y.type="button",y.onclick=function(){turn_water_off(a,c,b,q,p,s)},y.innerHTML="Turn Solenoid Off",y.id="solenoid-off-button-"+String(b),0==manual_mode[a-1]){var z=0;for(z=0;z<greenhouse_list[j]._solenoids.length;z++)document.getElementById("solenoid-on-button-"+greenhouse_list[j]._solenoids[z].getActuatorId()).disabled=!1,document.getElementById("solenoid-off-button-"+greenhouse_list[j]._solenoids[z].getActuatorId()).disabled=!1}else if(1==manual_mode[a-1]){var z=0;for(z=0;z<greenhouse_list[j]._solenoids.length;z++)document.getElementById("solenoid-on-button-"+greenhouse_list[j]._solenoids[z].getActuatorId()).disabled=!0,document.getElementById("solenoid-off-button-"+greenhouse_list[j]._solenoids[z].getActuatorId()).disabled=!0}v.appendChild(x),w.appendChild(y),m.appendChild(v),m.appendChild(w),d.appendChild(e)}}function turn_water_on(a,b,c,d,e,f){var g=0,h=!1;for(g=0;g<greenhouse_list.length;g++)if(greenhouse_list[g]._greenhouseId==a){h=!0;break}if(1==h){var i=greenhouse_list[g].getRelayById(e);i.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(c)+":SolenoidOut:True"),f="on",document.getElementById("solenoid-current-state-message-"+String(c)).innerHTML="  - Current State: "+String(f)}}function turn_water_off(a,b,c,d,e,f){var g=0,h=!1;for(g=0;g<greenhouse_list.length;g++)if(greenhouse_list[g]._greenhouseId==a){h=!0;break}if(1==h){var i=greenhouse_list[g].getRelayById(e);i.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(c)+":SolenoidOut:False"),f="off",document.getElementById("solenoid-current-state-message-"+String(c)).innerHTML="  - Current State: "+String(f)}}function AddLight(a,b){var c=document.getElementById("light-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="light-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var k=greenhouse_list[i].getLightById(b),l=k.getChannelId(),m=document.createElement("div");m.id="light-well-"+String(b),m.className="row",h.appendChild(m);var n=document.createElement("div");n.className="col-md-6",m.appendChild(n);var o=document.createElement("b");o.innerHTML="Light #"+String(b),o.id="light-well-title-"+String(b);var p=k.getRelayId(),q=document.createElement("h6");q.innerHTML="  - Connected To Relay #"+String(p)+" Channel #"+String(k.getChannelId()),q.id="light-connected-relay-message-"+String(b);var r=k.getCurrentState(),s=document.createElement("h6");s.innerHTML="  - Current State: "+String(r),s.id="light-current-state-message-"+String(b),n.appendChild(o),n.appendChild(q),n.appendChild(s);var t=document.createElement("div");t.className="col-md-2",m.appendChild(t);var u=document.createElement("div");u.className="col-md-2 text-right";var v=document.createElement("div");v.className="col-md-2 text-left",light_on_button=document.createElement("button"),light_on_button.className="btn btn-success",light_on_button.type="button",light_on_button.onclick=function(){turn_light_on(a,b,l,p,r)},light_on_button.innerHTML="Turn Light On",light_on_button.id="Light-on-button-"+String(b),light_off_button=document.createElement("button"),light_off_button.className="btn btn-danger",light_off_button.type="button",light_off_button.onclick=function(){turn_light_off(a,b,l,p,r)},light_off_button.innerHTML="Turn Light Off",light_off_button.id="Light-off-button-"+String(b),u.appendChild(light_on_button),v.appendChild(light_off_button),m.appendChild(u),m.appendChild(v),c.appendChild(d)}}function turn_light_on(a,b,c,d,e){var f=0,g=!1;for(f=0;f<greenhouse_list.length;f++)if(greenhouse_list[f]._greenhouseId==a){g=!0;break}if(1==g){var h=greenhouse_list[f].getRelayById(d);h.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(b)+":LightOut:True"),e="on",document.getElementById("light-current-state-message-"+String(b)).innerHTML="  - Current State: "+String(e)}}function turn_light_off(a,b,c,d,e){var f=0,g=!1;for(f=0;f<greenhouse_list.length;f++)if(greenhouse_list[f]._greenhouseId==a){g=!0;break}if(1==g){var h=greenhouse_list[f].getRelayById(d);h.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(b)+":LightOut:False"),e="off",document.getElementById("light-current-state-message-"+String(b)).innerHTML="  - Current State: "+String(e)}}function AddVentilation(a,b){var c=document.getElementById("ventilation-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="ventilation-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var k=greenhouse_list[i].getVentilationById(b),l=document.createElement("div");l.id="ventilation-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",l.appendChild(m);var n=document.createElement("b");n.innerHTML="Fan #"+String(b),n.id="ventilation-well-title-"+String(b);var o=k.getRelayId(),p=document.createElement("h6");p.innerHTML="  - Connected To Relay #"+String(o)+" Chanel #"+String(k.getChannelId()),p.id="ventilation-connected-relay-message-"+String(b);var q=k.getCurrentState(),r=document.createElement("h6");r.innerHTML="  - Current State: "+String(q),r.id="ventilation-current-state-message-"+String(b),m.appendChild(n),m.appendChild(p),m.appendChild(r);var s=document.createElement("div");s.className="col-md-2",l.appendChild(s);var t=document.createElement("div");t.className="col-md-2 text-right";var u=document.createElement("div");u.className="col-md-2 text-left",fan_on_button=document.createElement("button"),fan_on_button.className="btn btn-success",fan_on_button.type="button",fan_on_button.onclick=function(){turn_fan_on(a,o,b,q)},fan_on_button.innerHTML="Turn Fan On",fan_on_button.id="fan-on-button-"+String(b),fan_off_button=document.createElement("button"),fan_off_button.className="btn btn-danger",fan_off_button.type="button",fan_off_button.onclick=function(){turn_fan_off(a,o,b,q)},fan_off_button.innerHTML="Turn Fan Off",fan_off_button.id="fan-off-button-"+String(b),t.appendChild(fan_on_button),u.appendChild(fan_off_button),l.appendChild(t),l.appendChild(u),c.appendChild(d)}}function turn_fan_on(a,b,c,d){var e=0,f=!1;for(e=0;e<greenhouse_list.length;e++)if(greenhouse_list[e]._greenhouseId==a){f=!0;break}if(1==f){var g=greenhouse_list[e].getRelayById(b);g.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(c)+":VentilationOut:True"),d="on",document.getElementById("ventilation-current-state-message-"+String(c)).innerHTML="  - Current State: "+String(d)}}function turn_fan_off(a,b,c,d){var e=0,f=!1;for(e=0;e<greenhouse_list.length;e++)if(greenhouse_list[e]._greenhouseId==a){f=!0;break}if(1==f){var g=greenhouse_list[e].getRelayById(b);g.getPortNumber();ws.send("actuateActuator:"+String(a)+":"+String(c)+":VentilationOut:False"),d="off",document.getElementById("ventilation-current-state-message-"+String(c)).innerHTML="  - Current State: "+String(d)}}function AddSoilSensor(a,b){ws.send("GetRecentReading:Soil:"+String(a)+":"+String(b));var c=document.getElementById("soil-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="soil-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var k=greenhouse_list[i].getSoilSensorById(b),l=document.createElement("div");l.id="soil-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_soil_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Soil Sensor #"+String(b),n.id="soil-well-title-"+String(b);var o=document.createElement("h6");o.innerHTML="  -  Connected to Location #"+String(k.getLocationId()),m.appendChild(n),m.appendChild(o);var p=document.createElement("div");p.className="col-md-2",l.appendChild(p);var q=document.createElement("div");q.className="col-md-2";var r=document.createElement("div");r.className="col-md-2",l.appendChild(q),l.appendChild(r),c.appendChild(d)}}function ShowSoilreading(a,b,c){var d=document.getElementById("jason_soil_data-"+String(b)),e=0,f=!1;for(e=0;e<greenhouse_list.length;e++)if(greenhouse_list[e]._greenhouseId==a){f=!0;break}if(1==f){var h=(greenhouse_list[e].getSoilSensorById(b),document.createElement("h6"));h.innerHTML="  - Reading: "+String(c),h.id="soil-current-reading-message-"+String(b),d.appendChild(h)}}function AddLocation(a,b){var c=document.getElementById("location-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="location-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var l=(greenhouse_list[i].getLocationById(b),document.createElement("div"));l.id="location-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",l.appendChild(m);var n=document.createElement("b");n.innerHTML="Location #"+String(b),n.id="location-well-title-"+String(b);var o=document.createElement("h6");o.innerHTML="  - Location Type: ",m.appendChild(n),m.appendChild(o);var p=document.createElement("div");p.className="col-md-2",l.appendChild(p);var q=document.createElement("div");q.className="col-md-2";var r=document.createElement("div");r.className="col-md-2",l.appendChild(q),l.appendChild(r),c.appendChild(d)}}function AddpHSensor(a,b){ws.send("GetRecentReading:pH:"+String(a)+":"+String(b));var c=document.getElementById("ph-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="ph-"+String(a)+"-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var l=(greenhouse_list[i].getpHSensorById(b),document.createElement("div"));l.id="pH-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_ph_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="ph #"+String(b),n.id="ph-well-title-"+String(b),m.appendChild(n);var o=document.createElement("div");o.className="col-md-2",l.appendChild(o);var p=document.createElement("div");p.className="col-md-2";var q=document.createElement("div");q.className="col-md-2",l.appendChild(p),l.appendChild(q),c.appendChild(d)}}function ShowpHreading(a,b,c){var d=document.getElementById("jason_ph_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="ph-current-reading-message-"+String(b),d.appendChild(e)}function AddWaterLevelSensor(a,b){ws.send("GetRecentReading:WaterLevel:"+String(a)+":"+String(b));var c=document.getElementById("water-level-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="water-level-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var k=greenhouse_list[i].getWaterLevelSensorById(b),l=document.createElement("div");l.id="water-level-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_water_level_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Water Level Sensor #"+String(b),n.id="water-level-well-title-"+String(b);var o=document.createElement("h6");o.innerHTML="  -  Connected to Location #"+String(k.getLocationId()),m.appendChild(n),m.appendChild(o);var p=document.createElement("div");p.className="col-md-2",l.appendChild(p);var q=document.createElement("div");q.className="col-md-2";var r=document.createElement("div");r.className="col-md-2",l.appendChild(q),l.appendChild(r),c.appendChild(d)}}function ShowWaterLevelreading(a,b,c){var d=document.getElementById("jason_water_level_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="water_level-current-reading-message-"+String(b),d.appendChild(e)}function AddWaterTempSensor(a,b){ws.send("GetRecentReading:WaterTemp:"+String(a)+":"+String(b));var c=document.getElementById("water-temp-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="water-temp-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var k=greenhouse_list[i].getWaterTempSensorById(b),l=document.createElement("div");l.id="water-temp-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_water_temp_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Water Temp Sensor #"+String(b),n.id="water-temp-well-title-"+String(b);var o=document.createElement("h6");o.innerHTML="  -  Connected to Location #"+String(k.getLocationId()),m.appendChild(n),m.appendChild(o);var p=document.createElement("div");p.className="col-md-2",l.appendChild(p);var q=document.createElement("div");q.className="col-md-2";var r=document.createElement("div");r.className="col-md-2",l.appendChild(q),l.appendChild(r),c.appendChild(d)}}function ShowWaterTempreading(a,b,c){var d=document.getElementById("jason_water_temp_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="water_temp-current-reading-message-"+String(b),d.appendChild(e)}function AddAirHumiditySensor(a,b){ws.send("GetRecentReading:Humidity:"+String(a)+":"+String(b));var c=document.getElementById("air-humidity-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="air-humidity-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var l=(greenhouse_list[i].getHumiditySensorById(b),document.createElement("div"));l.id="air-humidity-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_air_humidity_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Air Humidity Sensor #"+String(b),n.id="air-humidity-well-title-"+String(b),m.appendChild(n);var o=document.createElement("div");o.className="col-md-2",l.appendChild(o);var p=document.createElement("div");p.className="col-md-2";var q=document.createElement("div");q.className="col-md-2",l.appendChild(p),l.appendChild(q),c.appendChild(d)}}function ShowHumidityreading(a,b,c){var d=document.getElementById("jason_air_humidity_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="air_humidity-current-reading-message-"+String(b),d.appendChild(e)}function AddAirTempSensor(a,b){ws.send("GetRecentReading:AirTemp:"+String(a)+":"+String(b));var c=document.getElementById("air-temp-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="air-temp-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var l=(greenhouse_list[i].getAirTempSensorById(b),document.createElement("div"));l.id="air-temp-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_air_temp_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Air Temp Sensor #"+String(b),n.id="air-temp-well-title-"+String(b),m.appendChild(n);var o=document.createElement("div");o.className="col-md-2",l.appendChild(o);var p=document.createElement("div");p.className="col-md-2";var q=document.createElement("div");q.className="col-md-2",l.appendChild(p),l.appendChild(q),c.appendChild(d)}}function ShowAirTempreading(a,b,c){var d=document.getElementById("jason_air_temp_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="air_temp-current-reading-message-"+String(b),d.appendChild(e)}function AddLightSensor(a,b){ws.send("GetRecentReading:Light:"+String(a)+":"+String(b));var c=document.getElementById("light-sensor-container-div-"+String(a)),d=document.createElement("div");d.className="row",d.id="light-sensor-"+String(b);var e=document.createElement("div");e.className="col-md-1";var f=document.createElement("div");f.className="col-md-8";var g=document.createElement("div");g.className="col-md-3";var h=document.createElement("div");h.className="well",f.appendChild(h),d.appendChild(e),d.appendChild(f),d.appendChild(g);var i=0,j=!1;for(i=0;i<greenhouse_list.length;i++)if(greenhouse_list[i]._greenhouseId==a){j=!0;break}if(1==j){var l=(greenhouse_list[i].getAirTempSensorById(b),document.createElement("div"));l.id="light-sensor-well-"+String(b),l.className="row",h.appendChild(l);var m=document.createElement("div");m.className="col-md-6",m.id="jason_light_sensor_data-"+String(b),l.appendChild(m);var n=document.createElement("b");n.innerHTML="Light Sensor #"+String(b),n.id="light-sensor-well-title-"+String(b),m.appendChild(n);var o=document.createElement("div");o.className="col-md-2",l.appendChild(o);var p=document.createElement("div");p.className="col-md-2";var q=document.createElement("div");q.className="col-md-2",l.appendChild(p),l.appendChild(q),c.appendChild(d)}}function ShowLightreading(a,b,c){var d=document.getElementById("jason_light_sensor_data-"+String(b)),e=document.createElement("h6");e.innerHTML="  - Reading: "+String(c),e.id="light_sensor-current-reading-message-"+String(b),d.appendChild(e)}var num_phone_boxes=1,num_address_fields=1;addLoadEvent(updateFooterDate);var host_parser=document.createElement("a");host_parser.href=window.location.href;var host_addr=host_parser.host,host_name=host_parser.search,username=host_name.replace("?","").replace("%20"," "),greenhouse_list=[],manual_mode=[],water_on_button=null,water_off_button=null,light_on_button=null,light_off_button=null,fan_on_button=null,fan_off_button=null,manual_button=null,temp=[],socket_addr="ws://"+host_addr+"/ws_overview_screen",ws=new WebSocket(socket_addr);ws.onopen=function(){ws.send("HasGreenhouses:"+String(username))},ws.onmessage=function(a){if(ws.send("Got a message: "+String(a.data)),a.data.indexOf("UserHasGreenhouses")>=0){var b=a.data.split(":"),c=0;for(c=1;c<b.length;c++)greenhouse_list.push(new Greenhouse(b[c])),ws.send("SendInitialConfiguration:"+String(b[c])),ws.send("GetMode:"+String(b[c])),ShowGreenhouse(b[c])}else if("UserHasNoGreenhouses"==a.data);else if(a.data.indexOf("IC")>=0){var d=a.data.split(":")[1];if("Relay"==d){var e=a.data.split(":"),f=e[2],g=e[3],h=e[4],i=e[5],j=e[6],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=j;c++);var k=new Relay(f,g,h,i,j);greenhouse_list[c].addRelay(k),ShowRelay(j,f)}else if("Solenoid"==d){var e=a.data.split(":"),l=e[2],m=e[3],n=e[4],o=e[5],p=e[6],q=e[7],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var r=new Solenoid(l,m,n,o,p,q);greenhouse_list[c].addSolenoid(r),AddSolenoid(p,l,n)}else if("Light"==d){var e=a.data.split(":"),l=e[2],n=e[3],o=e[4],p=e[5],q=e[6],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var s=new Light(l,n,o,p,q);greenhouse_list[c].addLight(s),AddLight(p,l)}else if("Ventilation"==d){var e=a.data.split(":"),l=e[2],n=e[3],o=e[4],p=e[5],q=e[6],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var t=new Ventilation(l,n,o,p,q);greenhouse_list[c].addVentilation(t),AddVentilation(p,l)}else if("Soil"==d){var e=a.data.split(":"),u=e[2],v=e[3],p=e[4],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var w=new SoilSensor(u,v,p);greenhouse_list[c].addSoil(w),AddSoilSensor(p,u)}else if("Location"==d){var e=a.data.split(":"),x=e[2],v=e[3],p=e[4],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var y=new Location(x,v,p);greenhouse_list[c].addLocation(y)}else if("pHSensor"==d){var e=a.data.split(":"),u=e[2],v=e[3],p=e[4],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var z=new pHSensor(u,p);greenhouse_list[c].addpHSensor(z),AddpHSensor(p,u)}else if("lightSensor"==d){var e=a.data.split(":"),u=e[2],p=e[3],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var A=new lightSensor(u,p);greenhouse_list[c].addLightSensor(A),AddLightSensor(p,u)}else if("airHumiditySensor"==d){var e=a.data.split(":"),u=e[2],p=e[3],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var B=new humiditySensor(u,p);greenhouse_list[c].addHumiditySensor(B),AddAirHumiditySensor(p,u)}else if("airTempSensor"==d){var e=a.data.split(":"),u=e[2],p=e[3],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var C=new airTempSensor(u,p);greenhouse_list[c].addAirTempSensor(C),AddAirTempSensor(p,u)}else if("waterLevelSensor"==d){var e=a.data.split(":"),u=e[2],v=e[3],p=e[4],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var D=new waterLevelSensor(u,v,p);greenhouse_list[c].addWaterLevelSensor(D),AddWaterLevelSensor(p,u)}else if("waterTempSensor"==d){var e=a.data.split(":"),u=e[2],v=e[3],p=e[4],c=0;for(c=0;c<greenhouse_list.length&&greenhouse_list[c]._greenhouseId!=p;c++);var E=new waterTempSensor(u,v,p);greenhouse_list[c].addWaterTempSensor(E),AddWaterTempSensor(p,u)}}else if(a.data.indexOf("GreenhouseModeStatus")>=0){b=a.data.split(":");var F=b[1].toLowerCase();b[2];manual_mode[b[2]-1]="true"==F,check_manual_mode(manual_mode,b[2])}else if(a.data.indexOf("GreenhouseModeUpdate")>=0){b=a.data.split(":");var F=b[1].toLowerCase();b[2];manual_mode[b[2]-1]="true"==F,check_manual_mode(manual_mode,b[2])}else if(a.data.indexOf("recentReading")>=0){var H=a.data.split(":")[1];if("pH"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowpHreading(j,I,J)}if("WaterLevel"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowWaterLevelreading(j,I,J)}if("WaterTemp"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowWaterTempreading(j,I,J)}if("Humidity"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowHumidityreading(j,I,J)}if("AirTemp"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowAirTempreading(j,I,J)}if("Soil"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowSoilreading(j,I,J)}if("Light"==H){var e=a.data.split(":"),j=e[2],I=e[3],J=e[4];ShowLightreading(j,I,J)}}},ws.onclose=function(){};